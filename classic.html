<!DOCTYPE html>
<html>
<head>
    <title>Rolelist Generator</title>
    <style>
        body {
            background-color: #111;
            color: #fff;
            font-size: 20px;
        }
        h1 {
            text-align: center;
            background-color: #333;
            color: #fff;
            padding: 20px;
            font-size: 28px;
        }
        h2 {
            background-color: #333;
            color: #fff;
            padding: 10px;
            font-size: 30px;
        }
        .town { color: #46cf00; }
        .mafia { color: #ca0e00; }
        .coven { color: #995ac4; }
        /* Define colors for each neutral role */
        .amnesiac { color: #0beefb; }
        .admirer { color: #add8ff; }
        .guardianangel { color: #ffffff; }
        .jester { color: #f3d1e8; }
        .executioner { color: #999999; }
        .changeling { color: #618452; }
        .auditor { color: #afb790; }
        .starspawn { color: #b5a1f5; }
        .serialkiller { color: #548ded; }
        .arsonist { color: #ff8200; }
        .werewolf { color: #694a2c; }
        .pirate { color: #f2c043; }
        .plaguebearer { color: #afd712; }
        .vampire { color: #4b5649; }
        .jackal { color: #444444; }
        .cursedsoul { color: #7500AF; }
    </style> 
   <script>
        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (var i = array.length - 1; i > 0; i--) {
                var j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function generateContent() {
            var container = document.getElementById("contentContainer");
            container.innerHTML = ""; // Clear previous content

            var categories = {
                "Town": {
                    "Protective": ["Doctor", "Bodyguard", "Trapper", "Handler", "Crusader"],
                    "Investigative": ["Sheriff", "Investigator", "Lookout", "Tracker", "Psychic"],
                    "Killing": ["Vigilante", "Veteran", "Jailor"],
                    "Support": ["Medium", "Tavern Keeper", "Retributionist"]
                },
                "Mafia": {
                    "Deception": ["Disguiser", "Forger", "Janitor", "Hypnotist"],
                    "Killing": ["Ambusher", "Kidnapper"],
                    "Support": ["Blackmailer", "Consigliere", "Agent", "Godfather"]
                },
                "Coven": {
                    "Evil": ["Coven Leader", "Hex Master", "Potion Master", "Banshee", "Witch", "Poisoner", "Necromancer", "Medusa"]
                },
                "Neutral": {
                    "Benign": ["Amnesiac", "Admirer", "Guardian Angel"],
                    "Evil": ["Jester", "Executioner", "Changeling", "Auditor", "Starspawn"],
                    "Killing": ["Serial Killer", "Arsonist", "Werewolf"],
                    "Chaos": ["Pirate", "Plaguebearer", "Vampire", "Jackal", "Cursed Soul"]
                }
            };

            var onceRoles = new Set([
                "Veteran", "Jailor", "Retributionist", "Ambusher", "Kidnapper", "Godfather", "Blackmailer", "Coven Leader", "Hex Master", "Potion Master", "Banshee", "Witch", "Poisoner", "Necromancer", "Medusa", "Guardian Angel", "Starspawn", "Werewolf", "Pirate", "Plaguebearer", "Jackal"
            ]);

            var selectedRoles = [];
            var onceRolesGenerated = new Set(); // Track generated onceRoles

            // Helper function to select a random role from a given category and subcategory
            function selectRandomRole(category, subcategory) {
                if (categories[category] && categories[category][subcategory]) {
                    var roles = categories[category][subcategory];
                    var selectedRole = roles[Math.floor(Math.random() * roles.length)];
                    // If role can only be generated once and it's already generated, return null
                    if (onceRoles.has(selectedRole) && onceRolesGenerated.has(selectedRole)) {
                        return null;
                    }
                    // If the role is generated once, mark it as generated
                    if (onceRoles.has(selectedRole)) {
                        onceRolesGenerated.add(selectedRole);
                    }
                    return selectedRole;
                } else {
                    return null;
                }
            }

            // Select specific roles as per the requirements
            selectedRoles.push("Jailor"); // Jailor
            selectedRoles.push(selectRandomRole("Town", "Investigative")); // Town Investigative
            selectedRoles.push(selectRandomRole("Town", "Investigative")); // Town Investigative
            selectedRoles.push(selectRandomRole("Town", "Protective")); // Town Protective
            selectedRoles.push(selectRandomRole("Town", "Protective")); // Town Protective
            selectedRoles.push(selectRandomRole("Town", "Killing")); // Town Killing
            selectedRoles.push(selectRandomRole("Town")); // Town
            selectedRoles.push(selectRandomRole("Town")); // Town
            selectedRoles.push(selectRandomRole("Town")); // Town
            selectedRoles.push("Godfather"); // Godfather
            selectedRoles.push(selectRandomRole("Mafia", null)); // Mafia
            selectedRoles.push(selectRandomRole("Mafia", null)); // Mafia
            selectedRoles.push(selectRandomRole("Mafia", null)); // Mafia
            selectedRoles.push(selectRandomRole("Neutral", ["Evil", "Chaos"])); // Neutral Evil
            selectedRoles.push(selectRandomRole("Neutral", "Killing")); // Neutral Killing

            // Display the selected roles
            var roleList = document.createElement("ul");
            selectedRoles.forEach(function (role) {
                var listItem = document.createElement("li");
                listItem.textContent = role;
                roleList.appendChild(listItem);
            });
            container.appendChild(roleList);
        }
    </script>
</head>
<body>
    <h1>Classic</h1>
    <button onclick="generateContent()">Generate</button>
    <div id="contentContainer">
        <!-- Generated content will be inserted here -->
    </div>
</body>
</html>
